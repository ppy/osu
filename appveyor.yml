# 2017-09-14
clone_depth: 1
version: '{branch}-{build}'
image: Visual Studio 2017
configuration: Debug
cache:
  - C:\ProgramData\chocolatey\bin -> appveyor.yml
  - C:\ProgramData\chocolatey\lib -> appveyor.yml
  - packages -> **\packages.config
artifacts:
  - path: '**\*.dmp'
on_failure:
  - appveyor PushArtifact osu.Desktop\bin\Debug\osu!.exe
install:
  - cmd: git submodule update --init --recursive --depth=5
before_build:
  - cmd: nuget restore -verbosity quiet
build:
  project: osu.sln
  parallel: true
  verbosity: minimal
test:
  assemblies:
    only:
      - 'osu.Desktop\**\*.dll'